# Environment Configuration for Payment Platform Production Deployment
# Copy this file to .env and fill in the actual values

# ========================================
# Database Configuration
# ========================================
DB_PASSWORD=your_secure_postgres_password
DATABASE_URL=postgresql://payment_user:${DB_PASSWORD}@postgres:5432/payment_platform

# ========================================
# Redis Configuration
# ========================================
REDIS_PASSWORD=your_secure_redis_password
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0

# ========================================
# Security Configuration
# ========================================
JWT_SECRET=your_very_long_jwt_secret_key_minimum_256_bits
OAUTH2_ENCRYPTION_KEY=your_32_character_encryption_key

# ========================================
# Payment Configuration (Stripe)
# ========================================
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_DASHBOARD_URL=https://dashboard.stripe.com

# ========================================
# Monitoring & Alerting URLs
# ========================================
GRAFANA_URL=http://localhost:3000
PROMETHEUS_URL=http://localhost:9090
KIBANA_URL=http://localhost:5601

# ========================================
# Slack Alerting Configuration
# ========================================
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL_CRITICAL=#critical-alerts
SLACK_CHANNEL_ALERTS=#platform-alerts
SLACK_CHANNEL_WARNINGS=#platform-warnings
SLACK_CHANNEL_PERFORMANCE=#performance-alerts
SLACK_CHANNEL_SECURITY=#security-alerts
SLACK_CHANNEL_PAYMENT=#payment-alerts
SLACK_CHANNEL_DATABASE=#database-alerts

# ========================================
# Email Alerting Configuration
# ========================================
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=alerts@yourcompany.com
EMAIL_PASSWORD=your_email_app_password
EMAIL_FROM_ADDRESS=noreply@yourcompany.com

# Critical alert recipients (comma-separated)
CRITICAL_ALERTS_EMAIL=oncall@yourcompany.com,devops@yourcompany.com
PAYMENT_TEAM_EMAIL=payments@yourcompany.com
SECURITY_TEAM_EMAIL=security@yourcompany.com
DATABASE_TEAM_EMAIL=dba@yourcompany.com

# ========================================
# SMS Alerting Configuration (Optional)
# ========================================
SMS_WEBHOOK_URL=https://api.twilio.com/2010-04-01/Accounts/YOUR_ACCOUNT_SID/Messages.json
SMS_API_TOKEN=your_twilio_auth_token
SMS_FROM_NUMBER=+1234567890
SMS_CRITICAL_NUMBERS=+1234567890,+0987654321

# ========================================
# Grafana Configuration
# ========================================
GRAFANA_ADMIN_PASSWORD=your_secure_grafana_password
GRAFANA_SECRET_KEY=your_grafana_secret_key

# ========================================
# Application Configuration
# ========================================
SPRING_PROFILES_ACTIVE=production
SERVER_PORT=8080

# Performance Monitoring
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,metrics,prometheus,performance
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always
MANAGEMENT_ENDPOINT_PERFORMANCE_ENABLED=true
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# ========================================
# SSL Configuration (when using HTTPS)
# ========================================
SSL_CERTIFICATE_PATH=/etc/nginx/ssl/fullchain.pem
SSL_PRIVATE_KEY_PATH=/etc/nginx/ssl/privkey.pem

# ========================================
# Backup Configuration
# ========================================
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_ACCESS_KEY=your_s3_access_key
BACKUP_S3_SECRET_KEY=your_s3_secret_key
BACKUP_RETENTION_DAYS=30

# ========================================
# Log Aggregation (ELK Stack)
# ========================================
ELASTICSEARCH_URL=http://elasticsearch:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=your_elastic_password

# ========================================
# Performance Optimization Thresholds
# ========================================
PERFORMANCE_API_CRITICAL_MS=1000
PERFORMANCE_API_WARNING_MS=500
PERFORMANCE_DB_CRITICAL_MS=500
PERFORMANCE_DB_WARNING_MS=100
PERFORMANCE_MEMORY_CRITICAL_MB=1536
PERFORMANCE_MEMORY_WARNING_MB=1024
PERFORMANCE_CACHE_HIT_RATIO_CRITICAL=0.6
PERFORMANCE_CACHE_HIT_RATIO_WARNING=0.8

# ========================================
# Rate Limiting Configuration
# ========================================
RATE_LIMIT_API_REQUESTS_PER_SECOND=10
RATE_LIMIT_AUTH_REQUESTS_PER_SECOND=5
RATE_LIMIT_PAYMENT_REQUESTS_PER_SECOND=2

# ========================================
# Health Check Configuration
# ========================================
HEALTH_CHECK_TIMEOUT=300
HEALTH_CHECK_INTERVAL=30

# ========================================
# Deployment Configuration
# ========================================
DEPLOYMENT_ENV=production
ROLLBACK_ENABLED=true
DEPLOYMENT_NOTIFICATION_WEBHOOK=https://your.deployment.webhook.url

# ========================================
# Security Headers Configuration
# ========================================
SECURITY_CONTENT_SECURITY_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https:; frame-ancestors 'none';"
SECURITY_STRICT_TRANSPORT_SECURITY="max-age=31536000; includeSubDomains; preload"

# ========================================
# Application Specific Configuration
# ========================================
# Maximum file upload size
MAX_FILE_SIZE=10MB
MAX_REQUEST_SIZE=10MB

# Session timeout (in seconds)
SESSION_TIMEOUT=1800

# Password policy
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL_CHARS=true

# Account lockout policy
ACCOUNT_LOCKOUT_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=900

# ========================================
# Audit Configuration
# ========================================
AUDIT_RETENTION_DAYS=2555  # 7 years for compliance
AUDIT_ARCHIVE_ENABLED=true
AUDIT_COMPRESSION_ENABLED=true

# ========================================
# Cache Configuration
# ========================================
CACHE_TTL_ORGANIZATIONS=3600
CACHE_TTL_USERS=1800
CACHE_TTL_PAYMENT_METHODS=7200
CACHE_TTL_PLANS=3600
CACHE_TTL_AUDIT_STATS=300

# ========================================
# Monitoring Data Retention
# ========================================
PROMETHEUS_RETENTION=30d
GRAFANA_DATA_RETENTION=90d
LOG_RETENTION_DAYS=30